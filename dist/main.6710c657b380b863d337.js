(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var i=t.g.document;if(!e&&i&&(i.currentScript&&(e=i.currentScript.src),!e)){var l=i.getElementsByTagName("script");l.length&&(e=l[l.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();class e{constructor(){}rowsChange(t,e=4){document.querySelector(".footer__list").addEventListener("click",(i=>{"A"==i.target.tagName&&(i.preventDefault(),(e=i.target.getAttribute("href"))&&(t.reset(e),this.highLight(e),t.restart()))}),{once:!0})}highLight(t){let e=document.querySelector('a[href="'+t+'"]');e&&(document.querySelector(".footer__display").innerHTML=e.innerHTML,document.querySelector(".footer__link_active").classList.toggle("footer__link_active"),e.classList.toggle("footer__link_active"))}}const i=t.p+"7a88ef8f77433865acfc.mp3";class l{constructor(){}init(t){this.alarm=new Audio(i),this.isAlarm=!0,this.fieldContainer=document.querySelector("#root"),this.localStrg=new s,this.start(t),this.sound(t),this.results(t),this.clearResults(),this.save(t),this.load(t),this.deep(t),this.alarmButton()}start(t){document.getElementById("start").addEventListener("click",(e=>{t.restart()}))}sound(t){document.getElementById("sound").addEventListener("click",(e=>{e.target.classList.toggle("nav__sound_active"),this.isAlarm=!this.isAlarm,this.isAlarm?(e.target.innerHTML="Sound ON",t.isSound=!0):(e.target.innerHTML="Sound OFF",t.isSound=!1)}))}results(t){document.getElementById("results").addEventListener("click",(e=>{this.fillAlert(`${t.rows}x${t.rows} top results`,this.localStrg.get(t.rows),"lightgreen","white",!1)}))}clearResults(){document.getElementById("resultsClear").addEventListener("click",(t=>{this.localStrg.clear(),this.fillAlert("","Local storage was cleared !!!","","red")}))}save(t){document.getElementById("save").addEventListener("click",(e=>{this.localStrg.saveGame(t),this.fillAlert(`Game ${t.rows}x${t.rows} SAVED`,`with time: <b>${t.timer.getTime()}</b> and <b>${t.movies}</b> moves...`,"lightgreen","white")}))}load(t){document.getElementById("load").addEventListener("click",(i=>{let l=this.localStrg.loadGame();l?(t.matrix=l.matrix,t.time=l.time,t.movies=l.mov,t.tileHndlr.mov=l.mov,t.tileHndlr.appendMov.innerHTML=l.mov,t.rows=l.rows,t.timer.seconds=+l.time.split(":")[1],t.timer.minutes=+l.time.split(":")[0],(new e).highLight(l.rows),t.load(),this.fillAlert(`Game ${t.rows}x${t.rows} LOADED`,`with time: <b>${l.time}</b> and <b>${t.movies}</b> moves...`,"lightgreen","white")):this.fillAlert("","Bad or empty saved DATA","","red")}))}deep(t){let e=document.getElementById("nav__deeper"),i=document.getElementById("nav__deeper-val");e.addEventListener("change",(l=>{i.innerHTML=t.rows+"x"+e.value,t.deepShuffle=e.value}))}alarmButton(){document.getElementById("alarm-button").addEventListener("click",(t=>{document.getElementById("alarm-mod").style.display=null}))}fillAlert(t,e,i="",l="",s=!0){let n=document.getElementById("alarm-mod"),r=n.querySelector("h2"),o=n.querySelector("p");r.innerHTML=t,o.innerHTML=e,""!=i&&(r.style.color=i),""!=l&&(o.style.color=l),o.style.textAlign=s?"center":"left",n.style.display="block"}}class s{constructor(){}save(t,e,i,s){localStorage.hasOwnProperty("results"+t)||localStorage.setItem("results"+t,JSON.stringify([]));let n=JSON.parse(localStorage.getItem("results"+t));n.push([e,i,s]);let r=JSON.stringify([e,i,s]);localStorage.setItem("results"+t,JSON.stringify(n)),(new l).fillAlert(`${t}x${t} top results`,this.get(t,r),"lightgreen","white",!1)}saveGame(t){let e={};e.matrix=t.matrix,e.rows=t.rows,e.mov=t.movies,e.time=t.timer.getTime(),localStorage.setItem("saveGame",JSON.stringify(e))}loadGame(){return!!localStorage.hasOwnProperty("saveGame")&&JSON.parse(localStorage.getItem("saveGame"))}get(t,e=null){let i=[];localStorage.hasOwnProperty("results"+t)?i=JSON.parse(localStorage.getItem("results"+t)):localStorage.setItem("results"+t,JSON.stringify([])),i.sort((function(t,e){return t[2]===e[2]?t[1]>e[1]?1:-1:t[2]>e[2]?1:-1}));let l="<dd><b>&nbsp;#&emsp;Moves&emsp;&emsp;Time&emsp;&emsp;&emsp;Name</b></dd><dd>&emsp;</dd>";for(let t=0;t<i.length;t++){let s="<dd>",n="</dd>";JSON.stringify(i[t])==e&&(s='<dd><b style="color: red">',n="</b></dd>"),l+=s+(t+1>9?t+1:"&nbsp;&nbsp;"+(t+1))+".&emsp;"+(i[t][2]<9?"&nbsp;&nbsp;&nbsp;&nbsp;"+i[t][2]:i[t][2]<99?"&nbsp;&nbsp;"+i[t][2]:i[t][2])+"&emsp;&emsp;&emsp;"+i[t][1]+"&emsp;&emsp;&emsp;"+i[t][0]+n}return l}clear(){localStorage.clear()}}const n=t.p+"b06d18b2819ad4f0c5db.mp3";class r{constructor(){this.appendMov=document.getElementById("nav__mov"),this.mov=0,this.localStrg=new s,this.alarm=new Audio(i),this.alarm2=new Audio(n),this.buttonHandler=new l}resetMov(){this.mov=0,this.appendMov.innerHTML=this.mov}analyzeMatrix(t){for(let e=0;e<t.matrix.length;e++)for(let i=0;i<t.matrix[e].length;i++)if(0==t.matrix[e][i])return void this.addListeners(t,e,i)}clearListeners(t){document.getElementById("field").style.backgroundColor="grey",this.upTile&&this.upMouseListener&&(this.upTile.onmousedown=null),this.downTile&&this.downMouseListener&&(this.downTile.onmousedown=null),this.leftTile&&this.leftMouseListener&&(this.leftTile.onmousedown=null),this.rightTile&&this.rightMouseListener&&(this.rightTile.onmousedown=null),this.downTile=null,this.downMouseListener=null,this.upTile=null,this.upMouseListener=null,this.leftTile=null,this.leftMouseListener=null,this.rightTile=null,this.rightMouseListener=null,this.appendMov.innerHTML=this.mov,this.analyzeMatrix(t),setTimeout((()=>{this.check(t)}),150)}clearMoveable(){for(let t of document.querySelectorAll(".tile_moveable"))t&&t.classList.toggle("tile_moveable");return!0}addListeners(t,e,i){function l(t){return new Promise((e=>setTimeout(e,t)))}this.clearMoveable(),void 0!==t.matrix[e-1]&&void 0!==t.matrix[e-1][i]&&(this.upTile=document.querySelector('.tile[data-val="'+t.matrix[e-1][i]+'"]'),this.upTile.classList.add("tile_moveable"),this.upMouseListener=s=>{let n=Array.from(this.upTile.parentNode.children).indexOf(this.upTile),r=!1,o=this.upTile.style.top,a=this.upTile.style.left,d=this.upTile.style.backgroundColor,h=parseInt(o)+t.tileWidth+"px",u=a,p=null,m=null,c=!1,g=s.clientX-this.upTile.getBoundingClientRect().left,T=s.clientY-this.upTile.getBoundingClientRect().top;this.upTile.style.transition="all 0ms",this.upTile.style.zIndex=1e3,document.body.append(this.upTile);let y=(e,i)=>{this.upTile.style.left=e-g+"px",this.upTile.style.top=i-T+"px",m||(m=parseInt(this.upTile.style.top)),p||(p=parseInt(this.upTile.style.left)),parseInt(this.upTile.style.top)>m+t.tileWidth/2&&parseInt(this.upTile.style.top)<m+1.5*t.tileWidth&&parseInt(this.upTile.style.left)<p+t.tileWidth/2&&parseInt(this.upTile.style.left)>p-t.tileWidth/2?(c=!0,this.upTile.style.backgroundColor="rgb(86, 183, 139)"):(c=!1,this.upTile.style.backgroundColor=d)};y(s.pageX,s.pageY);let f=t=>{y(t.pageX,t.pageY),r=!0};document.addEventListener("mousemove",f),this.upTile.onmouseup=async()=>{document.removeEventListener("mousemove",f),document.getElementById("field").insertBefore(this.upTile,document.getElementById("field").children[n]),this.upTile.onmouseup=null,this.upTile.style.backgroundColor=null,this.upTile.style.transition=null,this.upTile.style.zIndex=null,r?c?(this.upTile.style.top=h,this.upTile.style.left=u,t.matrix[e][i]=t.matrix[e-1][i],t.matrix[e-1][i]=0,t.isSound&&this.alarm2.play(),this.mov++,t.movies=this.mov):(this.upTile.style.top=o,this.upTile.style.left=a):(this.upTile.style.top=o,this.upTile.style.left=a,await l(0),this.upTile.style.top=h,this.upTile.style.left=u,t.matrix[e][i]=t.matrix[e-1][i],t.matrix[e-1][i]=0,t.isSound&&this.alarm.play(),this.mov++,t.movies=this.mov),this.clearListeners(t)}},this.upTile.onmousedown=this.upMouseListener,this.upTile.ondragstart=function(){return!1}),void 0!==t.matrix[e+1]&&void 0!==t.matrix[e+1][i]&&(this.downTile=document.querySelector('.tile[data-val="'+t.matrix[e+1][i]+'"]'),this.downTile.classList.add("tile_moveable"),this.downMouseListener=s=>{let n=Array.from(this.downTile.parentNode.children).indexOf(this.downTile),r=!1,o=this.downTile.style.top,a=this.downTile.style.left,d=this.downTile.style.backgroundColor,h=parseInt(o)-t.tileWidth+"px",u=a,p=null,m=null,c=!1,g=s.clientX-this.downTile.getBoundingClientRect().left,T=s.clientY-this.downTile.getBoundingClientRect().top;this.downTile.style.transition="all 0ms",this.downTile.style.zIndex=1e3,document.body.append(this.downTile);let y=(e,i)=>{this.downTile.style.left=e-g+"px",this.downTile.style.top=i-T+"px",m||(m=parseInt(this.downTile.style.top)),p||(p=parseInt(this.downTile.style.left)),parseInt(this.downTile.style.top)<m-t.tileWidth/2&&parseInt(this.downTile.style.top)>m-1.5*t.tileWidth&&parseInt(this.downTile.style.left)<p+t.tileWidth/2&&parseInt(this.downTile.style.left)>p-t.tileWidth/2?(c=!0,this.downTile.style.backgroundColor="rgb(86, 183, 139)"):(c=!1,this.downTile.style.backgroundColor=d)};y(s.pageX,s.pageY);let f=t=>{y(t.pageX,t.pageY),r=!0};document.addEventListener("mousemove",f),this.downTile.onmouseup=async()=>{document.getElementById("field").insertBefore(this.downTile,document.getElementById("field").children[n]),document.removeEventListener("mousemove",f),this.downTile.onmouseup=null,this.downTile.style.backgroundColor=null,this.downTile.style.transition=null,this.downTile.style.zIndex=null,r?c?(this.downTile.style.top=h,this.downTile.style.left=u,t.matrix[e][i]=t.matrix[e+1][i],t.matrix[e+1][i]=0,t.isSound&&this.alarm2.play(),this.mov++,t.movies=this.mov):(this.downTile.style.top=o,this.downTile.style.left=a):(this.downTile.style.top=o,this.downTile.style.left=a,await l(0),this.downTile.style.top=h,this.downTile.style.left=u,t.matrix[e][i]=t.matrix[e+1][i],t.matrix[e+1][i]=0,t.isSound&&this.alarm.play(),this.mov++,t.movies=this.mov),this.clearListeners(t)}},this.downTile.onmousedown=this.downMouseListener,this.downTile.ondragstart=function(){return!1}),void 0!==t.matrix[e]&&void 0!==t.matrix[e][i-1]&&(this.leftTile=document.querySelector('.tile[data-val="'+t.matrix[e][i-1]+'"]'),this.leftTile.classList.add("tile_moveable"),this.leftMouseListener=s=>{let n=Array.from(this.leftTile.parentNode.children).indexOf(this.leftTile),r=!1,o=this.leftTile.style.top,a=this.leftTile.style.left,d=this.leftTile.style.backgroundColor,h=o,u=parseInt(a)+t.tileWidth+"px",p=null,m=null,c=!1,g=s.clientX-this.leftTile.getBoundingClientRect().left,T=s.clientY-this.leftTile.getBoundingClientRect().top;this.leftTile.style.transition="all 0ms",this.leftTile.style.zIndex=1e3,document.body.append(this.leftTile);let y=(e,i)=>{this.leftTile.style.left=e-g+"px",this.leftTile.style.top=i-T+"px",m||(m=parseInt(this.leftTile.style.top)),p||(p=parseInt(this.leftTile.style.left)),parseInt(this.leftTile.style.top)<m+t.tileWidth/2&&parseInt(this.leftTile.style.top)>m-t.tileWidth/2&&parseInt(this.leftTile.style.left)<p+1.5*t.tileWidth&&parseInt(this.leftTile.style.left)>p+t.tileWidth/2?(c=!0,this.leftTile.style.backgroundColor="rgb(86, 183, 139)"):(c=!1,this.leftTile.style.backgroundColor=d)};y(s.pageX,s.pageY);let f=t=>{y(t.pageX,t.pageY),r=!0};document.addEventListener("mousemove",f),this.leftTile.onmouseup=async()=>{document.getElementById("field").insertBefore(this.leftTile,document.getElementById("field").children[n]),document.removeEventListener("mousemove",f),this.leftTile.onmouseup=null,this.leftTile.style.backgroundColor=null,this.leftTile.style.transition=null,this.leftTile.style.zIndex=null,r?c?(this.leftTile.style.top=h,this.leftTile.style.left=u,t.matrix[e][i]=t.matrix[e][i-1],t.matrix[e][i-1]=0,t.isSound&&this.alarm2.play(),this.mov++,t.movies=this.mov):(this.leftTile.style.top=o,this.leftTile.style.left=a):(this.leftTile.style.top=o,this.leftTile.style.left=a,await l(0),this.leftTile.style.top=h,this.leftTile.style.left=u,t.matrix[e][i]=t.matrix[e][i-1],t.matrix[e][i-1]=0,t.isSound&&this.alarm.play(),this.mov++,t.movies=this.mov),this.clearListeners(t)}},this.leftTile.onmousedown=this.leftMouseListener,this.leftTile.ondragstart=function(){return!1}),void 0!==t.matrix[e]&&void 0!==t.matrix[e][i+1]&&(this.rightTile=document.querySelector('.tile[data-val="'+t.matrix[e][i+1]+'"]'),this.rightTile.classList.add("tile_moveable"),this.rightMouseListener=s=>{let n=Array.from(this.rightTile.parentNode.children).indexOf(this.rightTile),r=!1,o=this.rightTile.style.top,a=this.rightTile.style.left,d=this.rightTile.style.backgroundColor,h=o,u=parseInt(a)-t.tileWidth+"px",p=null,m=null,c=!1,g=s.clientX-this.rightTile.getBoundingClientRect().left,T=s.clientY-this.rightTile.getBoundingClientRect().top;this.rightTile.style.transition="all 0ms",this.rightTile.style.zIndex=1e3,document.body.append(this.rightTile);let y=(e,i)=>{this.rightTile.style.left=e-g+"px",this.rightTile.style.top=i-T+"px",m||(m=parseInt(this.rightTile.style.top)),p||(p=parseInt(this.rightTile.style.left)),parseInt(this.rightTile.style.top)<m+t.tileWidth/2&&parseInt(this.rightTile.style.top)>m-t.tileWidth/2&&parseInt(this.rightTile.style.left)<p-t.tileWidth/2&&parseInt(this.rightTile.style.left)>p-1.5*t.tileWidth?(c=!0,this.rightTile.style.backgroundColor="rgb(86, 183, 139)"):(c=!1,this.rightTile.style.backgroundColor=d)};y(s.pageX,s.pageY);let f=t=>{y(t.pageX,t.pageY),r=!0};document.addEventListener("mousemove",f),this.rightTile.onmouseup=async()=>{document.getElementById("field").insertBefore(this.rightTile,document.getElementById("field").children[n]),document.removeEventListener("mousemove",f),this.rightTile.onmouseup=null,this.rightTile.style.backgroundColor=null,this.rightTile.style.transition=null,this.rightTile.style.zIndex=null,r?c?(this.rightTile.style.top=h,this.rightTile.style.left=u,t.matrix[e][i]=t.matrix[e][i+1],t.matrix[e][i+1]=0,t.isSound&&this.alarm2.play(),this.mov++,t.movies=this.mov):(this.rightTile.style.top=o,this.rightTile.style.left=a):(this.rightTile.style.top=o,this.rightTile.style.left=a,await l(0),this.rightTile.style.top=h,this.rightTile.style.left=u,t.matrix[e][i]=t.matrix[e][i+1],t.matrix[e][i+1]=0,t.isSound&&this.alarm.play(),this.mov++,t.movies=this.mov),this.clearListeners(t)}},this.rightTile.onmousedown=this.rightMouseListener,this.rightTile.ondragstart=function(){return!1})}check(t){if(JSON.stringify(t.matrix)==JSON.stringify(t.table)&&this.mov>0){t.timer.stop(!0),this.buttonHandler.fillAlert("Hooray!",`<p>You solved the puzzle in \n            <b>${t.timer.getTime()}</b> and <b>${this.mov}</b> moves</p>\n            <p>Enter your name please...</p>\n            <input id="alarm-name" value="John Doe">`,"lightgreen","white");let e=document.getElementById("alarm-name");e.focus(),e.selectionStart=e.selectionEnd=e.value.length,e.addEventListener("input",(()=>{0==e.value.length||e.value.length>20?document.getElementById("alarm-button").disabled=!0:document.getElementById("alarm-button").disabled=!1}));let i=t.timer.getTime(),l=this.mov;document.getElementById("alarm-button").addEventListener("click",(()=>{this.localStrg.save(t.rows,e.value,i,l)}),{once:!0}),t.restart()}}}class o{constructor(){this.timeString="00:00",this.seconds=0,this.minutes=0,this.appendMin=document.getElementById("nav__min"),this.appendSec=document.getElementById("nav__sec")}start(){this.seconds=0,this.minutes=0,this.appendSec.innerHTML="00",this.appendMin.innerHTML="00",clearInterval(this.Interval),this.Interval=setInterval((()=>{this.seconds++,this.seconds>59&&(this.minutes++,this.seconds=0),this.drawTimer(this.seconds,this.minutes)}),1e3)}stop(t=!1){t||(this.seconds=0,this.minutes=0,this.appendSec.innerHTML="00",this.appendMin.innerHTML="00"),clearInterval(this.Interval)}drawTimer(t,e){let i="",l="";t<=9&&(this.appendSec.innerHTML="0"+t,l="0"+t),t>9&&(this.appendSec.innerHTML=t,l=""+t),e<=9&&(this.appendMin.innerHTML="0"+e,i="0"+e),e>9&&(this.appendMin.innerHTML=e,i=""+e),this.timeString=i+":"+l}getTime(){return this.timeString}}(new class{constructor(){}buildTag(t,e={},i=""){let l=document.createElement(t);if(""!=i){let t=document.createTextNode(i);l.appendChild(t)}if(e)for(let t in e)l.setAttribute(t,e[t]);return l}buildBody(){let t=document.getElementById("root"),e=this.buildTag("div",{id:"block"}),i=this.buildTag("h1",{},"Shuffling...");e.appendChild(i),t.appendChild(e);let l=this.buildTag("div",{id:"alarm-mod"}),s=this.buildTag("h2",{},"Message");l.appendChild(s);let n=this.buildTag("p",{},"");l.appendChild(n);let r=this.buildTag("button",{id:"alarm-button"},"Close");l.appendChild(r),t.appendChild(l);let o=this.buildTag("nav",{class:"nav"}),a=this.buildTag("div",{class:"nav__container"}),d=this.buildTag("button",{id:"start"},"Shuffle and start"),h=this.buildTag("button",{id:"save"},"Save"),u=this.buildTag("button",{id:"load"},"Load"),p=this.buildTag("button",{id:"results"},"Results"),m=this.buildTag("button",{id:"resultsClear"},"Clear localStorage"),c=this.buildTag("button",{id:"sound",class:"nav__sound_active"},"Sound On");a.appendChild(d),a.appendChild(h),a.appendChild(u),a.appendChild(p),a.appendChild(m),a.appendChild(c);let g=this.buildTag("div"),T=this.buildTag("span");T.innerHTML='Shuffle deep: <b id="nav__deeper-val">4x10</b> steps';let y=this.buildTag("input",{id:"nav__deeper",min:"100",max:300,value:"100",step:"10",type:"range"});g.appendChild(T),g.appendChild(y),a.appendChild(g);let f=this.buildTag("p");f.innerHTML='Moves: <b id="nav__mov">0</b> / Time: <b id="nav__min">00</b>:<b id="nav__sec">00</b>',a.appendChild(f),o.appendChild(a),t.appendChild(o);let v=this.buildTag("section",{class:"field"});t.appendChild(v);let b=this.buildTag("footer",{class:"footer"}),x=this.buildTag("div",{class:"footer__container"}),w=this.buildTag("p"),S=this.buildTag("b",{},"Frame size: "),I=this.buildTag("span",{class:"footer__display"},"4x4");w.append(S),w.append(I);let L=this.buildTag("p"),_=this.buildTag("b",{},"Other sizes:");L.append(_);let M=this.buildTag("ul",{class:"footer__list"}),E=this.buildTag("li");E.append(this.buildTag("a",{href:"3"},"3x3"));let C=this.buildTag("li");C.append(this.buildTag("a",{href:"4",class:"footer__link_active"},"4x4"));let B=this.buildTag("li");B.append(this.buildTag("a",{href:"5"},"5x5"));let W=this.buildTag("li");W.append(this.buildTag("a",{href:"6"},"6x6"));let k=this.buildTag("li");k.append(this.buildTag("a",{href:"7"},"7x7"));let H=this.buildTag("li");H.append(this.buildTag("a",{href:"8"},"8x8")),M.append(E),M.append(C),M.append(B),M.append(W),M.append(k),M.append(H),x.append(w),x.append(L),x.append(M),b.appendChild(x),t.appendChild(b)}}).buildBody();let a=new class{constructor(t=4){this.tileHndlr=new r,this.timer=new o,this.timer.start(),this.reset(t),this.deepShuffle=100,this.isSound=!0}defineSizes(){let t=document.querySelector(".nav__container");t.scrollWidth>700?this.fieldWidth=600:t.scrollWidth>500?this.fieldWidth=400:this.fieldWidth=250,this.tileWidth=this.fieldWidth/this.rows}defineTable(){8==this.rows&&(this.table=[[1,2,3,4,5,6,7,8],[9,10,11,12,13,14,15,16],[17,18,19,20,21,22,23,24],[25,26,27,28,29,30,31,32],[33,34,35,36,37,38,39,40],[41,42,43,44,45,46,47,48],[49,50,51,52,53,54,55,56],[57,58,59,60,61,62,63,0]]),7==this.rows&&(this.table=[[1,2,3,4,5,6,7],[8,9,10,11,12,13,14],[15,16,17,18,19,20,21],[22,23,24,25,26,27,28],[29,30,31,32,33,34,35],[36,37,38,39,40,41,42],[43,44,45,46,47,48,0]]),6==this.rows&&(this.table=[[1,2,3,4,5,6],[7,8,9,10,11,12],[13,14,15,16,17,18],[19,20,21,22,23,24],[25,26,27,28,29,30],[31,32,33,34,35,0]]),5==this.rows&&(this.table=[[1,2,3,4,5],[6,7,8,9,10],[11,12,13,14,15],[16,17,18,19,20],[21,22,23,24,0]]),4==this.rows&&(this.table=[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,0]]),3==this.rows&&(this.table=[[1,2,3],[4,5,6],[7,8,0]])}restart(t=!0){this.defineSizes(),this.defineTable(),document.getElementById("nav__deeper-val").innerHTML=this.rows+"x"+this.deepShuffle,this.movies=0,this.matrix=JSON.parse(JSON.stringify(this.table)),document.querySelector("section.field").innerHTML="",this.buildField(this.fieldWidth),this.fillField(),this.timer.start(),this.tileHndlr.resetMov(),t&&this.shuffleMatrix()}load(){this.defineSizes(),this.defineTable(),document.querySelector("section.field").innerHTML="",this.buildField(this.fieldWidth),this.fillField()}reset(t=4){this.rows=t,(new e).rowsChange(this,this.rows)}resize(t){this.fieldWidth=t>700?600:t>500?400:250,this.tileWidth=this.fieldWidth/this.rows,document.querySelector("section.field").innerHTML="",this.buildField(this.fieldWidth),this.fillField()}async shuffleMatrix(){let t,e,i,l=document.getElementById("block");function s(t){return new Promise((e=>setTimeout(e,t)))}l.style.display="block",this.timer.stop();for(let i=0;i<this.matrix.length;i++)for(let l=0;l<this.matrix[i].length;l++)0==this.matrix[i][l]&&(e=i,t=l);let n=[],r=!1;for(let l=0;l<this.rows*this.deepShuffle;l++){let l=()=>{r||(r=this.tileHndlr.clearMoveable()),void 0!==this.matrix[e-1]&&void 0!==this.matrix[e-1][t]&&n.push("up"),void 0!==this.matrix[e+1]&&void 0!==this.matrix[e+1][t]&&n.push("down"),void 0!==this.matrix[e]&&void 0!==this.matrix[e][t-1]&&n.push("left"),void 0!==this.matrix[e]&&void 0!==this.matrix[e][t+1]&&n.push("right"),void 0!==n[1]&&(n.sort((()=>Math.random()-.5)),"up"==n[0]?(i=document.querySelector('.tile[data-val="'+this.matrix[e-1][t]+'"]'),i&&(i.style.top=parseInt(i.style.top)+this.tileWidth+"px",this.matrix[e][t]=this.matrix[e-1][t],this.matrix[e-1][t]=0,e-=1)):"down"==n[0]?(i=document.querySelector('.tile[data-val="'+this.matrix[e+1][t]+'"]'),i&&(i.style.top=parseInt(i.style.top)-this.tileWidth+"px",this.matrix[e][t]=this.matrix[e+1][t],this.matrix[e+1][t]=0,e+=1)):"left"==n[0]?(i=document.querySelector('.tile[data-val="'+this.matrix[e][t-1]+'"]'),i&&(i.style.left=parseInt(i.style.left)+this.tileWidth+"px",this.matrix[e][t]=this.matrix[e][t-1],this.matrix[e][t-1]=0,t-=1)):"right"==n[0]&&(i=document.querySelector('.tile[data-val="'+this.matrix[e][t+1]+'"]'),i&&(i.style.left=parseInt(i.style.left)-this.tileWidth+"px",this.matrix[e][t]=this.matrix[e][t+1],this.matrix[e][t+1]=0,t+=1))),n=[],i=null};await s(1),await l()}await this.load(),l.style.display="none",await this.timer.start()}buildField(t=500){const e=document.createElement("div");e.classList.add("field__container"),e.setAttribute("id","field"),e.style.width=t+"px",e.style.height=t+"px",document.querySelector("section.field").appendChild(e)}buildTile(t,e=0,i=0){const l=document.createElement("div"),s=document.createElement("p"),n=document.createTextNode(t);return l.classList.add("tile"),s.appendChild(n),l.style.width=this.tileWidth+"px",l.style.height=this.tileWidth+"px",l.style.top=e+"px",l.style.left=i+"px",l.appendChild(s),l.setAttribute("data-val",t),l}fillField(t=!0){for(let t=0;t<this.matrix.length;t++)for(let e=0;e<this.matrix[t].length;e++){if(0==this.matrix[t][e])continue;let i=this.buildTile(this.matrix[t][e],t*this.tileWidth,e*this.tileWidth);this.addTileToField(i)}t&&this.tileHndlr.analyzeMatrix(this)}addTileToField(t){document.getElementById("field").appendChild(t)}}(4);(new l).init(a),a.restart();let d=document.querySelector(".nav__container");new ResizeObserver((()=>{a.resize(d.scrollWidth)})).observe(d)})();
//# sourceMappingURL=main.6710c657b380b863d337.js.map